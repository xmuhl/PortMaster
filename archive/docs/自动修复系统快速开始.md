# è‡ªåŠ¨ä¿®å¤ç³»ç»Ÿå¿«é€Ÿå¼€å§‹æŒ‡å—

## ğŸš€ 5åˆ†é’Ÿå¿«é€Ÿä½“éªŒ

### ç¬¬ä¸€æ­¥ï¼šç¯å¢ƒæ£€æŸ¥
```bash
# æ£€æŸ¥Pythonç‰ˆæœ¬ï¼ˆéœ€è¦3.7+ï¼‰
python --version

# æ£€æŸ¥ç³»ç»Ÿç¯å¢ƒ
dir autobuild_x86_debug.bat
dir build\Debug\PortMaster.exe
```

### ç¬¬äºŒæ­¥ï¼šå®‰è£…ä¾èµ–
```bash
# å®‰è£…å¿…éœ€çš„Pythonåº“
pip install pillow pygetwindow pytesseract psutil

# éªŒè¯å®‰è£…
python -c "import PIL, cv2, pytesseract, psutil; print('æ‰€æœ‰ä¾èµ–å·²å®‰è£…æˆåŠŸ')"
```

### ç¬¬ä¸‰æ­¥ï¼šå¿«é€Ÿæµ‹è¯•
```bash
# è¿è¡Œå¿«é€Ÿæµ‹è¯•ï¼ˆ1åˆ†é’Ÿå†…å®Œæˆï¼‰
python quick_test_fix.py
```

**é¢„æœŸè¾“å‡ºï¼š**
```
âœ… æˆåŠŸæ£€æµ‹åˆ° 1 ä¸ªé”™è¯¯çª—å£
âœ… é”™è¯¯çª—å£æˆªå›¾å·²ä¿å­˜
âœ… å¿«é€Ÿæµ‹è¯•æˆåŠŸå®Œæˆ
```

### ç¬¬å››æ­¥ï¼šå®Œæ•´ä¿®å¤ï¼ˆå¯é€‰ï¼‰
```bash
# è¿è¡Œå®Œæ•´è‡ªåŠ¨ä¿®å¤ï¼ˆå¯èƒ½éœ€è¦10-30åˆ†é’Ÿï¼‰
python autonomous_fix_controller.py
```

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚æ£€æŸ¥æ¸…å•

### âœ… å¿…éœ€ç¯å¢ƒ
- [ ] Windows 7/8/10/11 ç³»ç»Ÿ
- [ ] Python 3.7 æˆ–æ›´é«˜ç‰ˆæœ¬
- [ ] Visual Studio 2022 ï¼ˆç”¨äºç¼–è¯‘ï¼‰
- [ ] è‡³å°‘ 4GB å¯ç”¨å†…å­˜
- [ ] è‡³å°‘ 500MB ç£ç›˜ç©ºé—´

### âœ… é¡¹ç›®æ–‡ä»¶æ£€æŸ¥
- [ ] `PortMaster.sln` - è§£å†³æ–¹æ¡ˆæ–‡ä»¶
- [ ] `autobuild_x86_debug.bat` - ç¼–è¯‘è„šæœ¬
- [ ] `build\Debug\PortMaster.exe` - ç›®æ ‡ç¨‹åº
- [ ] `autonomous_fix_controller.py` - ä¸»æ§åˆ¶å™¨
- [ ] `enhanced_error_capture.py` - é”™è¯¯æ•è·æ¨¡å—

## ğŸ”§ åŸºæœ¬ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹1ï¼šå¿«é€Ÿé”™è¯¯æ£€æµ‹
```bash
# ä»…æ£€æµ‹é”™è¯¯ï¼Œä¸ä¿®å¤
python enhanced_error_capture.py
```

**é€‚ç”¨åœºæ™¯ï¼š**
- æƒ³è¦çŸ¥é“ç¨‹åºæœ‰ä»€ä¹ˆé”™è¯¯
- ä¸æƒ³ç«‹å³ä¿®å¤é”™è¯¯
- æ”¶é›†é”™è¯¯ä¿¡æ¯ç”¨äºåˆ†æ

### ç¤ºä¾‹2ï¼šå•æ¬¡å®Œæ•´ä¿®å¤
```bash
# è¿è¡Œä¸€æ¬¡å®Œæ•´çš„æ£€æµ‹å’Œä¿®å¤æµç¨‹
python quick_test_fix.py
```

**é€‚ç”¨åœºæ™¯ï¼š**
- å¿«é€ŸéªŒè¯ä¿®å¤åŠŸèƒ½
- æµ‹è¯•ç³»ç»Ÿå·¥ä½œçŠ¶æ€
- ç®€å•é”™è¯¯ä¿®å¤

### ç¤ºä¾‹3ï¼šå…¨è‡ªåŠ¨è¿­ä»£ä¿®å¤
```bash
# æŒç»­ä¿®å¤ç›´åˆ°é—®é¢˜è§£å†³
python autonomous_fix_controller.py
```

**é€‚ç”¨åœºæ™¯ï¼š**
- å¤æ‚é”™è¯¯éœ€è¦å¤šæ¬¡ä¿®å¤
- å¸Œæœ›å®Œå…¨è‡ªåŠ¨åŒ–å¤„ç†
- ç”Ÿäº§ç¯å¢ƒé—®é¢˜è§£å†³

## ğŸ› ï¸ å¸¸è§é—®é¢˜è§£å†³

### Q1: æç¤º"æ‰¾ä¸åˆ°æŒ‡å®šçš„æ–‡ä»¶"
**é—®é¢˜ï¼š** `'autobuild_x86_debug.bat' ä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤`

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
dir autobuild_x86_debug.bat

# å¦‚æœä¸å­˜åœ¨ï¼Œæ£€æŸ¥æ˜¯å¦æœ‰å…¶ä»–ç¼–è¯‘è„šæœ¬
dir autobuild*.bat

# ä½¿ç”¨å®Œæ•´è·¯å¾„è¿è¡Œ
python -c "
import subprocess
import os
result = subprocess.run(['cmd.exe', '/c', os.path.join(os.getcwd(), 'autobuild_x86_debug.bat')], capture_output=True)
print('Return code:', result.returncode)
"
```

### Q2: OCRè¯†åˆ«å¤±è´¥
**é—®é¢˜ï¼š** `pytesseract` ç›¸å…³é”™è¯¯

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# é‡æ–°å®‰è£…pytesseract
pip uninstall pytesseract
pip install pytesseract

# ä¸‹è½½Tesseract OCRå¼•æ“
# è®¿é—®ï¼šhttps://github.com/UB-Mannheim/tesseract/wiki
# ä¸‹è½½å¹¶å®‰è£… Windows ç‰ˆæœ¬

# éªŒè¯å®‰è£…
tesseract --version
```

### Q3: æˆªå›¾æ•è·å¤±è´¥
**é—®é¢˜ï¼š** `Image size exceeds limit` é”™è¯¯

**è§£å†³æ–¹æ¡ˆï¼š**
```python
# åœ¨ä»£ç ä¸­è°ƒæ•´å›¾åƒå¤§å°é™åˆ¶
from PIL import Image
Image.MAX_IMAGE_PIXELS = 100000000  # å¢åŠ åˆ°100MB
```

### Q4: æƒé™ä¸è¶³é”™è¯¯
**é—®é¢˜ï¼š** çª—å£æ£€æµ‹æˆ–è¿›ç¨‹æ“ä½œå¤±è´¥

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œå‘½ä»¤æç¤ºç¬¦
# ç„¶åå†æ‰§è¡Œä¿®å¤ç¨‹åº

# æˆ–è€…åœ¨Pythonä»£ç ä¸­æ·»åŠ æƒé™æ£€æŸ¥
import ctypes
import os

def is_admin():
    try:
        return ctypes.windll.shell32.IsUserAnAdmin()
    except:
        return False

if not is_admin():
    print("è¯·ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œæ­¤ç¨‹åº")
```

## ğŸ“Š è¾“å‡ºæ–‡ä»¶è¯´æ˜

### è‡ªåŠ¨ç”Ÿæˆçš„æ–‡ä»¶
è¿è¡Œç³»ç»Ÿåä¼šè‡ªåŠ¨åˆ›å»ºä»¥ä¸‹æ–‡ä»¶ï¼š

```
auto_screenshots/
â”œâ”€â”€ error_RUNTIME_ERROR_20250930_231951.png  # é”™è¯¯çª—å£æˆªå›¾
â””â”€â”€ ...

code_backups/
â”œâ”€â”€ PortMasterDlg_20250930_231951.cpp        # ä»£ç å¤‡ä»½
â””â”€â”€ ...

fix_results/
â”œâ”€â”€ session_20250930_231951.json            # ä¿®å¤ç»“æœ
â””â”€â”€ quick_test_20250930_231943.log          # æµ‹è¯•æ—¥å¿—
```

### å¦‚ä½•æŸ¥çœ‹ç»“æœ

1. **æŸ¥çœ‹æˆªå›¾æ–‡ä»¶**
   ```bash
   # æ‰“å¼€æˆªå›¾ç›®å½•
   start auto_screenshots
   ```

2. **æŸ¥çœ‹ä¿®å¤æ—¥å¿—**
   ```bash
   # æŸ¥çœ‹æœ€æ–°æ—¥å¿—
   type fix_results\*.log
   ```

3. **æŸ¥çœ‹ä¿®å¤ç»“æœ**
   ```bash
   # æŸ¥çœ‹JSONæ ¼å¼çš„ä¿®å¤ç»“æœ
   type fix_results\*.json
   ```

## ğŸ” è¿›é˜¶ä½¿ç”¨æŠ€å·§

### æŠ€å·§1ï¼šè‡ªå®šä¹‰é…ç½®
```python
# åˆ›å»ºé…ç½®æ–‡ä»¶ config.py
CONFIG = {
    'max_iterations': 5,           # æœ€å¤§ä¿®å¤æ¬¡æ•°
    'screenshot_delays': [3, 10],  # æˆªå›¾æ—¶é—´ç‚¹
    'enable_auto_compile': True,   # æ˜¯å¦è‡ªåŠ¨ç¼–è¯‘
    'backup_enabled': True         # æ˜¯å¦åˆ›å»ºå¤‡ä»½
}
```

### æŠ€å·§2ï¼šæ‰¹é‡å¤„ç†
```bash
# åˆ›å»ºæ‰¹å¤„ç†æ–‡ä»¶ run_repair.bat
@echo off
echo å¼€å§‹è‡ªåŠ¨ä¿®å¤...
python autonomous_fix_controller.py
echo ä¿®å¤å®Œæˆï¼ŒæŒ‰ä»»æ„é”®é€€å‡º
pause
```

### æŠ€å·§3ï¼šå®šæ—¶ä»»åŠ¡
```python
# åˆ›å»ºå®šæ—¶ä¿®å¤è„šæœ¬ scheduled_repair.py
import schedule
import time

def run_daily_repair():
    print("æ‰§è¡Œå®šæ—¶ä¿®å¤...")
    os.system("python autonomous_fix_controller.py")

# æ¯å¤©å‡Œæ™¨2ç‚¹æ‰§è¡Œ
schedule.every().day.at("02:00").do(run_daily_repair)

while True:
    schedule.run_pending()
    time.sleep(3600)  # æ¯å°æ—¶æ£€æŸ¥ä¸€æ¬¡
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–å»ºè®®

### 1. ç³»ç»Ÿèµ„æºä¼˜åŒ–
- å…³é—­ä¸å¿…è¦çš„ç¨‹åºé‡Šæ”¾å†…å­˜
- ç¡®ä¿æœ‰è¶³å¤Ÿçš„ç£ç›˜ç©ºé—´
- ä½¿ç”¨SSDæé«˜I/Oæ€§èƒ½

### 2. ç½‘ç»œç¯å¢ƒä¼˜åŒ–
- ç¡®ä¿ç½‘ç»œè¿æ¥ç¨³å®š
- å¦‚æœä¸‹è½½ä¾èµ–å¤±è´¥ï¼Œä½¿ç”¨å›½å†…é•œåƒæº
- é…ç½®ä»£ç†ï¼ˆå¦‚éœ€è¦ï¼‰

### 3. å¼€å‘ç¯å¢ƒä¼˜åŒ–
```bash
# ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒéš”ç¦»ä¾èµ–
python -m venv repair_env
repair_env\Scripts\activate
pip install -r requirements.txt

# ä¼˜åŒ–ç¼–è¯‘ç¯å¢ƒ
set VSINSTALLDIR="C:\Program Files\Microsoft Visual Studio\2022\Community"
```

## ğŸ†˜ è·å–å¸®åŠ©

### è°ƒè¯•æ¨¡å¼
```python
# å¯ç”¨è¯¦ç»†æ—¥å¿—
import logging
logging.basicConfig(
    level=logging.DEBUG,
    format='%(asctime)s - %(levelname)s - %(message)s'
)

# è¿è¡Œè°ƒè¯•ç‰ˆæœ¬
python autonomous_fix_controller.py --debug
```

### è¯Šæ–­å·¥å…·
```bash
# è¿è¡Œç³»ç»Ÿè¯Šæ–­
python -c "
import sys
import os
import platform

print('=== ç³»ç»Ÿè¯Šæ–­ ===')
print('Pythonç‰ˆæœ¬:', sys.version)
print('æ“ä½œç³»ç»Ÿ:', platform.system(), platform.release())
print('å·¥ä½œç›®å½•:', os.getcwd())
print('PortMaster.exeå­˜åœ¨:', os.path.exists('build\\Debug\\PortMaster.exe'))
print('ç¼–è¯‘è„šæœ¬å­˜åœ¨:', os.path.exists('autobuild_x86_debug.bat'))
"
```

### è”ç³»æ”¯æŒ
å¦‚æœé‡åˆ°æ— æ³•è§£å†³çš„é—®é¢˜ï¼š

1. **æ”¶é›†è¯Šæ–­ä¿¡æ¯**
   ```bash
   python -c "
   import sys, os, platform, psutil
   print('=== æ”¯æŒä¿¡æ¯ ===')
   print('Python:', sys.version)
   print('OS:', platform.platform())
   print('Memory:', psutil.virtual_memory().percent, '%')
   print('Disk:', psutil.disk_usage('/').percent, '%')
   "
   ```

2. **æ”¶é›†é”™è¯¯æ—¥å¿—**
   ```bash
   # æ”¶é›†æ‰€æœ‰æ—¥å¿—æ–‡ä»¶
   copy fix_results\*.log support_logs_%date%.log
   ```

3. **æä¾›é—®é¢˜æè¿°**
   - è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯
   - é‡ç°æ­¥éª¤
   - ç³»ç»Ÿç¯å¢ƒä¿¡æ¯

## ğŸ¯ ä¸‹ä¸€æ­¥å­¦ä¹ 

### å»¶ä¼¸é˜…è¯»
1. **å®Œæ•´ä½¿ç”¨æ‰‹å†Œ** - `è‡ªä¸»æ™ºèƒ½è‡ªåŠ¨åŒ–ä¿®å¤ç³»ç»Ÿä½¿ç”¨æ‰‹å†Œ.md`
2. **æŠ€æœ¯å®ç°è¯¦è§£** - `è‡ªåŠ¨ä¿®å¤ç³»ç»ŸæŠ€æœ¯å®ç°è¯¦è§£.md`
3. **ç³»ç»Ÿæ–‡ä»¶æ¸…å•** - `ç³»ç»Ÿæ–‡ä»¶æ¸…å•.md`

### é«˜çº§åŠŸèƒ½
- è‡ªå®šä¹‰ä¿®å¤ç­–ç•¥å¼€å‘
- é›†æˆåˆ°CI/CDæµæ°´çº¿
- æ‰¹é‡é¡¹ç›®ä¿®å¤
- æ€§èƒ½ç›‘æ§å’ŒæŠ¥å‘Š

### ç¤¾åŒºèµ„æº
- GitHubä»“åº“ï¼ˆç¤ºä¾‹é“¾æ¥ï¼‰
- æŠ€æœ¯åšå®¢å’Œæ•™ç¨‹
- ç”¨æˆ·äº¤æµç¾¤ç»„
- é—®é¢˜åé¦ˆå¹³å°

---

## ğŸ‰ æ­å–œï¼

æ‚¨å·²ç»æˆåŠŸæŒæ¡äº†è‡ªåŠ¨ä¿®å¤ç³»ç»Ÿçš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•ï¼

**ä¸‹ä¸€æ­¥å»ºè®®ï¼š**
- å°è¯•ä¿®å¤å®é™…é¡¹ç›®ä¸­çš„é”™è¯¯
- æ¢ç´¢é«˜çº§é…ç½®é€‰é¡¹
- é˜…è¯»å®Œæ•´æŠ€æœ¯æ–‡æ¡£
- å‚ä¸ç¤¾åŒºè®¨è®ºå’Œè´¡çŒ®

**è®°ä½ï¼š** è¿™ä¸ªç³»ç»Ÿè®¾è®¡ä¸ºå®Œå…¨è‡ªä¸»è¿è¡Œï¼Œæ‚¨åªéœ€è¦å¯åŠ¨å®ƒï¼Œå‰©ä¸‹çš„å·¥ä½œéƒ½ä¼šè‡ªåŠ¨å®Œæˆï¼

---
*æœ€åæ›´æ–°ï¼š2025-09-30 | ç‰ˆæœ¬ï¼š1.0.0*